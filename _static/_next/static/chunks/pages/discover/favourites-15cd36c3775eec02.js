(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[872],{2854:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/discover/favourites",function(){return n(1438)}])},6633:function(e,t,n){"use strict";var o=n(5893),r=n(5675),i=n.n(r),l=n(381),a=n.n(l),s=n(1163);t.Z=function(e){var t,n,r,l,c=e.movie,d=e.hoverCard,u=e.setHoverCard,m=e.recommendCard,f=e.addToWishlist,v=e.deleteFromWishlist,p=(0,s.useRouter)();return(0,o.jsx)("div",{className:"flex justify-center",children:(0,o.jsx)("div",{className:"z-0 w-[160px] h-[280px] md:w-[220px] md:h-[340px] cursor-pointer rounded-lg transform transition hover:scale-125 duration-300 ease-in-out hover:z-10 ".concat(!m&&"drop-shadow-[0_35px_35px_rgba(0,0,0,0.25)]"),onMouseEnter:function(){return u(null===c||void 0===c?void 0:c.id)},onMouseLeave:function(){return u(null)},children:(0,o.jsxs)("div",{className:"relative w-full h-full overflow-hidden rounded-lg ",children:[(0,o.jsx)(i(),{src:"https://image.tmdb.org/t/p/original/".concat(null===c||void 0===c?void 0:c.poster_path),priority:!0,alt:"",layout:"fill",objectFit:"cover",placeholder:"blur",blurDataURL:"data:image/jpeg;base64,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"}),(0,o.jsxs)("div",{className:"".concat((null===c||void 0===c?void 0:c.id)===d?"block absolute delay-150 duration-250":"block absolute md:hidden"," bottom-0 p-4 text-gray-200 bg-gradient-to-t from-red-900 info"),children:[(0,o.jsx)("h3",{className:"text-lg font-bold text-yellow-400 md:text-2xl title",children:null===c||void 0===c?void 0:c.original_title}),(0,o.jsxs)("h5",{className:"text-xs font-base md:text-sm title",children:[a()(null===c||void 0===c?void 0:c.release_date).format("DD MMM YYYY"),","," ",null===c||void 0===c?void 0:c.original_language,(0,o.jsx)("div",{className:"px-1 my-1 text-xs md:text-sm font-mono bg-yellow-400 text-center text-black w-[40px] rounded-xl",children:null===(t=String(null===c||void 0===c?void 0:c.vote_average))||void 0===t?void 0:t.slice(0,3)})]}),(0,o.jsxs)("p",{className:"text-xs font-light text-white md:text-sm",children:[(null===c||void 0===c||null===(n=c.original_title)||void 0===n?void 0:n.split(" ").length)<=5?null===c||void 0===c||null===(r=c.overview)||void 0===r?void 0:r.slice(0,100):null===c||void 0===c||null===(l=c.overview)||void 0===l?void 0:l.slice(0,60),"..."]}),(0,o.jsxs)("button",{onClick:function(){"/discover/favourites"!==p.pathname?f(c):v(null===c||void 0===c?void 0:c._id)},className:"z-10 flex items-center justify-center w-full px-2 py-1 mt-1 text-xs font-bold text-black transition duration-300 ease-in-out transform bg-red-400 rounded-lg md:text-sm hover:scale-95",children:[(0,o.jsx)("div",{className:"flex items-center justify-center mr-1 text-black",children:(0,o.jsx)(i(),{src:"/discover/favourites"!==p.pathname?"https://img.icons8.com/ios-filled/344/filled-like.png":"https://img.icons8.com/ios-glyphs/344/delete-forever.png",alt:"",layout:"fixed",width:20,height:14,objectFit:"contain",objectPosition:"center"})})," ","/discover/favourites"!==p.pathname?"Wishlist":"Remove"]}),(0,o.jsx)("button",{onClick:function(){return p.push("/discover/movie/".concat(null===c||void 0===c?void 0:c.id))},className:"flex items-center justify-center w-full px-2 py-1 mt-1 text-xs font-bold text-black transition duration-300 ease-in-out transform rounded-lg bg-violet-400 md:text-sm hover:scale-95",children:"Info"})]})]})})})}},1115:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var o=n(5893),r=n(7294),i=function(){return i=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},i.apply(this,arguments)};var l=function(e){var t=e.animate,n=e.animateBegin,o=e.backgroundColor,l=e.backgroundOpacity,a=e.baseUrl,s=e.children,c=e.foregroundColor,d=e.foregroundOpacity,u=e.gradientRatio,m=e.gradientDirection,f=e.uniqueKey,v=e.interval,p=e.rtl,h=e.speed,x=e.style,g=e.title,A=e.beforeMask,b=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n}(e,["animate","animateBegin","backgroundColor","backgroundOpacity","baseUrl","children","foregroundColor","foregroundOpacity","gradientRatio","gradientDirection","uniqueKey","interval","rtl","speed","style","title","beforeMask"]),y=f||Math.random().toString(36).substring(6),w=y+"-diff",N=y+"-animated-diff",j=y+"-aria",k=p?{transform:"scaleX(-1)"}:null,O="0; "+v+"; 1",B=h+"s",E="top-bottom"===m?"rotate(90)":void 0;return(0,r.createElement)("svg",i({"aria-labelledby":j,role:"img",style:i(i({},x),k)},b),g?(0,r.createElement)("title",{id:j},g):null,A&&(0,r.isValidElement)(A)?A:null,(0,r.createElement)("rect",{role:"presentation",x:"0",y:"0",width:"100%",height:"100%",clipPath:"url("+a+"#"+w+")",style:{fill:"url("+a+"#"+N+")"}}),(0,r.createElement)("defs",null,(0,r.createElement)("clipPath",{id:w},s),(0,r.createElement)("linearGradient",{id:N,gradientTransform:E},(0,r.createElement)("stop",{offset:"0%",stopColor:o,stopOpacity:l},t&&(0,r.createElement)("animate",{attributeName:"offset",values:-u+"; "+-u+"; 1",keyTimes:O,dur:B,repeatCount:"indefinite",begin:n})),(0,r.createElement)("stop",{offset:"50%",stopColor:c,stopOpacity:d},t&&(0,r.createElement)("animate",{attributeName:"offset",values:-u/2+"; "+-u/2+"; "+(1+u/2),keyTimes:O,dur:B,repeatCount:"indefinite",begin:n})),(0,r.createElement)("stop",{offset:"100%",stopColor:o,stopOpacity:l},t&&(0,r.createElement)("animate",{attributeName:"offset",values:"0; 0; "+(1+u),keyTimes:O,dur:B,repeatCount:"indefinite",begin:n})))))};l.defaultProps={animate:!0,backgroundColor:"#f5f6f7",backgroundOpacity:1,baseUrl:"",foregroundColor:"#eee",foregroundOpacity:1,gradientRatio:2,gradientDirection:"left-right",id:null,interval:.25,rtl:!1,speed:1.2,style:{},title:"Loading...",beforeMask:null};var a=function(e){return e.children?(0,r.createElement)(l,i({},e)):(0,r.createElement)(s,i({},e))},s=function(e){return(0,r.createElement)(a,i({viewBox:"0 0 476 124"},e),(0,r.createElement)("rect",{x:"48",y:"8",width:"88",height:"6",rx:"3"}),(0,r.createElement)("rect",{x:"48",y:"26",width:"52",height:"6",rx:"3"}),(0,r.createElement)("rect",{x:"0",y:"56",width:"410",height:"6",rx:"3"}),(0,r.createElement)("rect",{x:"0",y:"72",width:"380",height:"6",rx:"3"}),(0,r.createElement)("rect",{x:"0",y:"88",width:"178",height:"6",rx:"3"}),(0,r.createElement)("circle",{cx:"20",cy:"20",r:"20"}))},c=a;function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=function(e){return(0,o.jsx)(c,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){d(e,t,n[t])}))}return e}({speed:2,width:220,height:340,viewBox:"0 0 220 340",backgroundColor:"#f0c2c2",foregroundColor:"#f9a9a9"},e,{children:(0,o.jsx)("rect",{x:"12",y:"9",rx:"0",ry:"0",width:"220",height:"340"})}))}},1438:function(e,t,n){"use strict";n.r(t);var o=n(4051),r=n.n(o),i=n(5893),l=n(7294),a=n(196),s=n(9669),c=n.n(s),d=n(6633),u=n(1115),m=n(4931),f=n(4198);function v(e,t,n,o,r,i,l){try{var a=e[i](l),s=a.value}catch(c){return void n(c)}a.done?t(s):Promise.resolve(s).then(o,r)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(o,r){var i=e.apply(t,n);function l(e){v(i,o,r,l,a,"next",e)}function a(e){v(i,o,r,l,a,"throw",e)}l(void 0)}))}}t.default=function(){var e=(0,l.useState)([]),t=e[0],n=e[1],o=(0,l.useState)(null),s=o[0],v=o[1],h=(0,l.useState)(!1),x=h[0],g=h[1],A=(0,l.useContext)(f._).user,b=function(){var e=p(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.next=3,c().get("".concat(a.T,"/wishlist"),{headers:{Authorization:"Bearer ".concat(null===A||void 0===A?void 0:A.token)}}).then((function(e){var t;console.log("got response",e),n(null===(t=e.data)||void 0===t?void 0:t.movies)})).catch((function(e){return console.log("error in response")}));case 3:g(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=p(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c().delete("".concat(a.T,"/wishlist/").concat(t),{headers:{Authorization:"Bearer ".concat(null===A||void 0===A?void 0:A.token)}}).then((function(e){var t;m.ZP.success(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message,{duration:4e3,position:"top-right"}),b()})).catch((function(e){var t,n;return m.ZP.error(null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message,{duration:4e3,position:"top-right"})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,l.useEffect)((function(){console.log("user changes effect"),b()}),[A]),(0,i.jsx)("div",{className:"px-6 mt-4",children:void 0!==(null===A||void 0===A?void 0:A.token)?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("h1",{className:"pl-10 text-2xl font-bold underline md:text-3xl underline-offset-8",children:[null===A||void 0===A?void 0:A.name," Favourites."]}),(0,i.jsx)("div",{className:"grid w-full grid-cols-2 gap-4 px-4 my-10 space-y-4 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5",children:null===t||void 0===t?void 0:t.map((function(e,t){return(0,i.jsx)(i.Fragment,{children:x?(0,i.jsx)("div",{className:"flex justify-center overflow-hidden rounded-lg",children:(0,i.jsx)(u.Z,{})},t):(0,i.jsx)(d.Z,{movie:e,hoverCard:s,setHoverCard:v,deleteFromWishlist:y},t)})}))})]}):(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("h1",{className:"pl-10 text-2xl font-bold underline md:text-3xl underline-offset-8",children:"To access Favourites."})})})}}},function(e){e.O(0,[885,774,888,179],(function(){return t=2854,e(e.s=t);var t}));var t=e.O();_N_E=t}]);